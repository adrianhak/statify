(window.webpackJsonp=window.webpackJsonp||[]).push([["app~5a4d8549"],{1543:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("59ca"),a=n.n(r),c=(n("ea7b"),n("000b"),n("e71f"),{apiKey:"AIzaSyDa03f3Q74RrauLSqFduIqAXCZ88Qe0Czw",authDomain:"statify-d8291.firebaseapp.com",databaseURL:"https://statify-d8291.firebaseio.com",projectId:"statify-d8291",storageBucket:"statify-d8291.appspot.com",messagingSenderId:"1086887363182",appId:"1:1086887363182:web:2b93da4239f4baecb45c7f",measurementId:"G-BYJ9HWDHE6"});a.a.initializeApp(c);var u=a.a.analytics(),o=a.a.firestore(),i=a.a.auth()},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("92c6"),n("eaaf"),n("49c1");var r=n("5df8"),a=n.n(r),c=n("2f62"),u=n("be8d"),o=n.n(u),i=n("3dfd"),s=n("a18c"),f=n("4360"),d=n("e37d"),l=n("26b9"),p=n.n(l),b=n("ec7e"),v=n.n(b),m=n("2b88"),h=n.n(m),g=n("1543"),w=n("ecee"),x=n("f2d1"),y=n("c074"),k=n("b702"),O=n("ad3d");w.c.add(x.a,y.f,y.h,y.d,y.c,k.d,k.b,k.a,k.c,y.b,y.a,y.g,y.e),a.a.component("font-awesome-icon",O.a),a.a.use(c.a),a.a.use(d.a),a.a.use(v.a,6e3),a.a.use(h.a);var j;a.a.use(p.a,{color:"#BF61B0",failedColor:"red",height:"2px",autoFinish:!1}),a.a.prototype.$spotify=new o.a,a.a.prototype.$analytics=g.a,a.a.directive("click-outside",{bind:function(e,t,n){e.clickOutsideEvent=function(r){e==r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),s.a.beforeEach((function(e,t,n){window.scrollTo(0,0),document.title=e.meta.title?e.meta.title:"Statify","/"==e.path&&(g.b.currentUser||n("/login")),"/login"==e.path&&null!=g.b.currentUser&&n("/"),n()})),g.b.onAuthStateChanged((function(e){j||(j=new a.a({el:"#app",router:s.a,store:f.a,components:{App:i.a},data:function(){return{mobile:window.innerWidth<=700}},created:function(){var e=this;addEventListener("resize",(function(){e.mobile=innerWidth<=768}))},render:function(e){return e(i.a)}}))}))},d034:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return d})),n("4160"),n("c975"),n("13d5"),n("4e82"),n("0d03"),n("b0c0"),n("b64b"),n("d3b7"),n("07ac"),n("25f0"),n("159b"),n("ddb0");var r=n("3835"),a=n("b85c"),c=(n("96cf"),n("1da1")),u=n("1543"),o=n("4360"),i=function(e){var t=[],n=Object.values(e).reduce((function(e,t){return e+t}));return Object.keys(e).forEach((function(r){var a=e[r]/n*100;t.push({x:r.toString(),y:a})})),t.sort((function(e,t){return e.x-t.x})),t},s=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,u.c.collection("stats").doc(t).get().then((function(e){if(e.exists)return e.data().value}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,u.c.collection("stats").doc("genres").collection("topGenres").orderBy("value","desc").limit(10).get().then((function(e){var t=[];return e.forEach((function(e){t.push(e.data().name)})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,u.c.collection("stats").doc("releaseDates").get();case 3:return t=e.sent,n=t.data().global,e.abrupt("return",i(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.b.currentUser.uid,o=u.c.collection("stats").doc("genres").collection("topGenres"),i=u.c.collection("stats").doc("genres").collection("userStats").doc(n),e.abrupt("return",u.c.runTransaction((function(e){return e.get(i).then(function(){var n=Object(c.a)(regeneratorRuntime.mark((function n(c){var u,s,f,d,l,p,b,v,m,h,g,w,x,y,k,O;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=c.exists?c.data().topGenres:[],s={},0==u.length){n.next=7;break}return n.next=5,o.where("name","in",u).get();case 5:n.sent.forEach((function(e){s[e.data().name]=e.data().value}));case 7:f={},d=Object(a.a)(u.entries());try{for(d.s();!(l=d.n()).done;)p=Object(r.a)(l.value,2),b=p[0],v=p[1],m=s[v],-1!=(h=t.indexOf(v))?b-h!=0&&(f[v]=m+(b-h)):f[v]=m-(u.length-b)}catch(e){d.e(e)}finally{d.f()}g=Object(a.a)(t.entries()),n.prev=11,g.s();case 13:if((w=g.n()).done){n.next=22;break}if(x=Object(r.a)(w.value,2),y=x[0],k=x[1],-1!=u.indexOf(k)){n.next=20;break}return n.next=18,o.doc(k).get();case 18:(O=n.sent).exists?f[k]=O.data().value+(t.length-y):f[k]=t.length-y;case 20:n.next=13;break;case 22:n.next=27;break;case 24:n.prev=24,n.t0=n.catch(11),g.e(n.t0);case 27:return n.prev=27,g.f(),n.finish(27);case 30:e.set(i,{topGenres:t}),Object.keys(f).forEach((function(t){var n=o.doc(t);e.set(n,{value:f[t],name:t})}));case 32:case"end":return n.stop()}}),n,null,[[11,24,27,30]])})));return function(e){return n.apply(this,arguments)}}())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.b.currentUser.uid,r=u.c.collection("stats").doc("releaseDates"),a=r.collection("userStats").doc(n),e.abrupt("return",u.c.runTransaction((function(e){return e.get(r).then(function(){var n=Object(c.a)(regeneratorRuntime.mark((function n(c){var u,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=c.data().global,n.next=3,a.get().then((function(e){var n={};if(e.exists){var r=e.data().releaseDates;Object.keys(r).forEach((function(e){t[e]?n[e]=t[e]-r[e]:n[e]=-r[e]})),Object.keys(t).forEach((function(e){r[e]||(n[e]=t[e])}))}else Object.keys(t).forEach((function(e){n[e]=t[e]}));return n}));case 3:s=n.sent,e.set(a,{releaseDates:t}),Object.keys(s).forEach((function(e){var t=u[e]?u[e]:0;u[e]=t+s[e]})),o.a.commit("SET_GLOBAL_STAT",{stat:"releaseDates",value:i(u)}),e.update(r,{global:u});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.b.currentUser.uid,a=u.c.collection("stats").doc(t),i=a.collection("userStats").doc(r),e.abrupt("return",u.c.runTransaction((function(e){return e.get(a).then(function(){var r=Object(c.a)(regeneratorRuntime.mark((function r(c){var u,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.exists){r.next=3;break}return r.abrupt("return");case 3:return u=c.data().value*c.data().numValues,r.next=6,i.get().then((function(e){var t,r=c.data().numValues;e.exists?t=(u-e.data().value+n)/c.data().numValues:(r=c.data().numValues+=1,t=(u+n)/r);return{newNumValues:r,newAvgValue:t}}));case 6:s=r.sent,o.a.commit("SET_GLOBAL_STAT",{stat:t,value:s.newAvgValue}),e.update(a,{numValues:s.newNumValues,value:s.newAvgValue}),e.set(i,{value:n});case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);